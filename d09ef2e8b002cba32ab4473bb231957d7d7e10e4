{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ab70672c_1e58e0ac",
        "filename": "test/io_uring.cpp",
        "patchSetId": 2
      },
      "lineNbr": 269,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-05-12T15:48:59Z",
      "side": 1,
      "message": "Why does this become a zero?  It seems like we were actively trying to test something here related to `fh.reset`, which we\u0027ve now removed?\n\n0 is a valid file descriptor, right?  So, I\u0027m not sure what we\u0027re doing now vs before.",
      "revId": "d09ef2e8b002cba32ab4473bb231957d7d7e10e4",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "91c0de44_f57c12c7",
        "filename": "test/io_uring.cpp",
        "patchSetId": 2
      },
      "lineNbr": 269,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-05-12T16:00:37Z",
      "side": 1,
      "message": "```.reset()``` destructs the contained value\n\nAnd the ```*fh``` operator accesses the contained value.\n\nAccessing the value if not present is UB in the cpp reference:\n\nhttps://en.cppreference.com/w/cpp/utility/optional/operator*\n\nhttps://en.cppreference.com/w/cpp/utility/optional\n\nSo the way it\u0027s currently in the code is clearly wrong since there is no way to test UB (that i know of) since it\u0027s by definition ... undefined üòä\n\n\n\u003e So, I\u0027m not sure what we\u0027re doing now vs before.\n\nI posted the change in the hopes that someone would know what the test is supposed to be doing and to be able to find a solution together üòä\n\nI\u0027m not familiar with io_uring or stdplus repo.",
      "parentUuid": "ab70672c_1e58e0ac",
      "revId": "d09ef2e8b002cba32ab4473bb231957d7d7e10e4",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "81763c6a_93229463",
        "filename": "test/io_uring.cpp",
        "patchSetId": 2
      },
      "lineNbr": 269,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-05-12T16:10:52Z",
      "side": 1,
      "message": "How about the change I made?",
      "parentUuid": "91c0de44_f57c12c7",
      "revId": "d09ef2e8b002cba32ab4473bb231957d7d7e10e4",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "466ab67a_d8f860b4",
        "filename": "test/io_uring.cpp",
        "patchSetId": 2
      },
      "lineNbr": 269,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-05-12T16:14:18Z",
      "side": 1,
      "message": "Remembering why i made this change:\n\nI saw the logs (last snippet) and you can replicate these logs with an unchecked optional access. To fix the unchecked access i plugged in another file descriptor instead.\n\n```\n\n\tstd::optional\u003cint\u003e x \u003d 2;\n\n\tx \u003d std::nullopt;\n\n\tstd::cout \u003c\u003c *x \u003c\u003c std::endl;\n```\n\n```\n[alex@thonkpadT14 cpp]$ g++ std_optional.cpp \n[alex@thonkpadT14 cpp]$ g++ --version\ng++ (GCC) 15.1.1 20250425\nCopyright (C) 2025 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n```\n```\n[alex@thonkpadT14 cpp]$ ./a.out \n/usr/include/c++/15.1.1/optional:1186: constexpr _Tp\u0026 std::optional\u003c_Tp\u003e::operator*() \u0026 [with _Tp \u003d int]: Assertion \u0027this-\u003e_M_is_engaged()\u0027 failed.\nAborted (core dumped)\n```",
      "parentUuid": "91c0de44_f57c12c7",
      "revId": "d09ef2e8b002cba32ab4473bb231957d7d7e10e4",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "14b4874a_6df3a445",
        "filename": "test/io_uring.cpp",
        "patchSetId": 2
      },
      "lineNbr": 269,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-05-12T16:20:02Z",
      "side": 1,
      "message": "\u003e How about the change I made?\n\nI don\u0027t think it\u0027s any worse. Can\u0027t say much about it.\n\nConsidering we are only modifying a test here, and not changing the actual code,\nwe can apply your change to unblock CI on other projects üëç\n\nWhenever @wak@google.com is available he can then look for the proper fix for the testcase üòä",
      "parentUuid": "466ab67a_d8f860b4",
      "revId": "d09ef2e8b002cba32ab4473bb231957d7d7e10e4",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}